[TOC]



# 第一章

计算机网络发展史

- 出现之前：电话网络
- 诞生阶段：分时系统
- 形成阶段：ARPANET
- 互联互通阶段：Internet
- 高速网络阶段：光纤网络等
- 无线网络和物联网阶段：泛在网络（Ubiquitous/Pervasive）

## 无线通信技术的发展历史

- 1896年，意大利无线电工程师马可尼发明了无线电报，传输距离3公里
  1901年，马可尼在英国康沃尔郡和加拿大纽芬兰省之间实现了横跨大西洋的信息发送，传输距离3000公里
- 二战时期，美国陆军的无线传输实验
  1945年，英国人克拉克提出静止卫星通信的设想
  1947年，美国贝尔实验室提出了蜂窝通信的概念
  1954年，美国海军利用月球表面对无线电波的反射进行了地球上两地电话传输试验
  1960年，人类第一颗人造地球通信卫星，美国宇航局兰利研究中心的工程师制造“回声1号”并成功发射
- 1971年，夏威夷大学的Aloha网络
- 1979年，位于瑞士的IBM Ruesehlikon实验室Gfeller首先提出了无线局域网的概念，并采用红外线作为传输媒体，用以解决生产车间里布线困难，大型机器的电磁干扰严重的问题
- 1985年，美国联邦通信委员会FCC颁布无线电波管理法规，为WLAN分配了免许可证频段，即免费的工业、科学和医疗（Industrial Scientific Medical，ISM）频段，对WLAN的发展具有重要的意义
- 1990年，电气电子工程师学会IEEE正式启用了802.11项目，极大地提高了无线局域网产品的标准化和兼容性。
- 从20世纪80年代，美国贝尔实验室提出蜂窝式模拟移动通信系统（即第一代移动通信系统）开始，移动通信系统已经发展了5代，也就是大家经常说的1G、2G、3G、4G和5G
- 5G
  - 5G手机
  - 2019年6月6日，工信部已经正式向中国移动、中国电信、中国联通、中国广电颁发4张5G商用牌照

## 无线网络分类

分类标准

- 使用的频率
- 是否需要基础设施支持
- 覆盖范围
- 参与组网的对象
- 技术特点

### 按覆盖范围划分🍎

- 系统部件互联/无线个域网
  - 主要用于个人工作空间，覆盖范围较小
  - 实现同一地点终端设备之间的无线通讯
    可提供简单（远程控制）到复杂（语音）的应用
  - 典型应用：蓝牙技术，工作频段2.4GHz
  - 特点：易操作、功耗低、便携性好
- 无线局域网
  - 覆盖范围比WPAN大
  - 工作在2.4GHz和5GHz频段
  - 高传输速率、更多的可接入用户数
  - 灵活性和移动性
  - 可扩展性和经济性
- 无线城域网/广域网	
  - 无线城域网 WMAN
    - 在WLAN的基础上搭建，覆盖范围更大
    - 主要解决城域网的宽带接入问题
    - 典型技术：WiMAX
  - 无线广域网 WWAN
    - 也称为移动宽带网，提供更大范围内的无线接入，强调快速移动性
    - 是一种提供远程接入功能的高速数字蜂窝网络
    - 主要用于移动运营商的无线覆盖
    - 主要使用4G、5G及卫星通信等技术

### 按照参与组网的对象进行分类

- 计算机网络
- 卫星网络
- 手机网络
- 车联网
- 社交网络
- 物联网

### 按技术特点、应用领域分

- Ad Hoc网络
- 无线传感器网络
- 无线Mesh网络
- 车联网（Vehicle Area Network， VAN）

### 从是否具有基础设施

- 基于基础设施：蜂窝移动通信，移动IP通信
- 无基础设施：Ad Hoc网络

## 无线网路结构

- 大蜂窝（Megacell）：以卫星作为基站，单个基站覆盖距离可达上千千米
- 宏蜂窝（Macrocell）：基站放置在高大建筑上，单个基站覆盖距离1~10千米
- 微蜂窝（Microcell）：基站放置在几米到几十米高度上，覆盖范围几百米~1千米
- 微微蜂窝（Picocell）/毫微微蜂窝（Femtocell）：基站往往布置在室内，用于改善室内信号覆盖较弱的问题。

## 无线网络机构组织

- 工业和信息化部无线电管理局（国家无线电办公室）是主管全国无线电管理工作的职能机构
- lFCC：Federal Communications Commission：美国联邦通信委员会
- lETSI：European Telecommunications Standards Institute:欧洲电信标准化协会

国际标准化组织

- ITU（International Telecommunication Union-国际电信联盟）政府机构、厂商、科学组织、运营商
- ISO（International Standard Organization-国际化标准组织）各国的标准化机构
- IEC （International Electrical Commission-国际电工委员会）各国的标准化机构
- IEEE（Institute of Electrical and Electronics Engineers-电气和电子工程师协会）技术团体
- IAB（Internet Architecture Board-Internet 体系委员会）政府机构
- 3GPP 第三代合作伙伴计划（3rd Generation Partnership Project)
- CCSA 中国通信标准化协会

# 第二章

## 基本概念

- 电磁波
- 振幅
- 周期与频率
- 波长
- 相位
- 同步和异步
- 并行和串行
- 单工、半双工和全双工
- 模拟信号和数字信号
- 电路交换与分组交换
- 信噪比：一个电子设备或者电子系统中信号与噪声的比例。
- 信号强度：信号强度指的是信号的绝对功率数，通常不用瓦或毫瓦表示，而是用dBm来表示。
- 带宽：带宽被更广泛地运用在数字通信中，用来描述网络或线路理论上传输数据的最高速率。
- 调制和解调：调制就是用基带信号去控制载波信号的某个或几个参量的变化，这样载波信号就变为已调信号，其中携带着基带信号的信息。调制可以根据基带信号的不同分为模拟调制和数字调制，根据所控制的载波参量的不同，又分为调频、调幅和调相。

## 传输媒体🍎

- 定义：数据传输系统中发送器与接收器之间的物理路径
- 分类：导向性（有线）和非导向性（无线）
- 对导向媒体而言，电磁波被引导沿某一固定媒体前进，例如双绞线、同轴电缆和光纤。
- 非导向媒体的例子是大气和外层空间，它们提供了传输电磁波信号的手段，但不引导它们的传播方向，这种传输形式通常称为无线传播(wireless transmission)

无线传输的构造类型

- 非导向媒体：发送和接收都通过天线实现。
- 无线传输的两种基本构造类型

定向结构：发射天线将电磁波聚集成波束后发射出去，因此，发射和接收天线必须精确校准。

全向结构：发送信号沿所有方向传播，并能够被多数天线接收到。

通常：低频信号为全向；高频信号为定向。

## 频率与信号衰减🍎

微波传输的主要损耗来源于衰减。
微波(以及无线电广播频段)的损耗公式
$$
𝐿=10 lg⁡(  4𝜋𝑑/𝜆 )^2 𝑑𝐵
$$
L——损耗，单位DB   λ—波长   d——距离
微波的损耗随距离的平方而变化
问题：距离一定，频率越高损耗就越大？
注：有线网络中损耗与距离的关系：L=Ed

### 多径

在移动通信中，由于障碍物的存在，而产生折射、反射等，可能存在多条传输路径使信号增强或减弱（甚至消失）

## 常见频段

- 微波：1GHz~100GHz，可实现高方向性的波束，非常适用于点对点的传输，也可用于卫星通信。(**方向性**)
  - 地面微波(2GHz～40GHz)
  - 卫星微波(1~10GHz)
  - 
- 无线电广播频段：30MHz～1GHz，适用于全向应用。(**全向性**)
- 红外线频谱段：3×1011Hz～2×1014Hz，适于本地应用，在有限的区域(如一个房间)内对于局部的点对点及多点应用非常有用。
  - 红外线传输不能超过视线范围，距离短
  - 红外线传输无法穿透墙体。
  - 微波系统中遇到的安全性和干扰问题在红外线传输中都不存在。
  - 红外线不需要频率分配许可。
  - 各类家用遥控器
- 光波
  - 频率更高的光波，主要指非导向光波，而非用于光纤的导向光波。
  - 提供非常高的带宽，成本也很低，相对容易安装，而且与微波不同，不要求FCC许可。
  - 激光的强度(非常窄的一束光)是它的弱点，不易瞄准。
  - 激光束不能穿透雨或者浓雾，受气象条件影响较大，白天太阳的热量使气流上升也会激光束产生偏差。

由于种种原因，在一些欧、美、日等西方国家常常把目前可用的微波波段分为L、S、C、X、Ku、K、Ka等波段（或称子波段）

雷达波段、卫星通信中对通信频率范围的一种叫法、术语

| 频率和波长  波段代号 | 频率范围 | 波长范围    |
| -------------------- | -------- | ----------- |
| L                    | 1~2GHz   | 30~15cm     |
| S                    | 2~4GHz   | 15~7.5cm    |
| C                    | 4~8GHz   | 7.5~3.75cm  |
| X                    | 8~13GHz  | 3.75~2.31cm |
| Ku                   | 13~18GHz | 2.31~1.67cm |
| K                    | 18~28GHz | 1.67~1.07cm |
| Ka                   | 28~40GHz | 1.07~0.75cm |

## 数据速率、载波频率和带宽的关系

**带宽**（bandwidth），又叫频宽，通常指信号所占据的频带宽度；在被用来描述信道时，带宽是指能够有效通过该信道的信号的最大频带宽度。高带宽意味着高能力。数字设备中带宽用bps（b/s）表示，即每秒最高可以传输的位数。电子学上的带宽则指电路可以保持稳定工作的频率范围。

**数据传输速率**，又称比特率，指每秒钟实际传输的比特数，是信息传输速率（传信率）的度量。单位为“比特每秒（bps）”。其计算公式为S=1/T。T为传输1比特数据所花的时间。

**波特率**，又称调制速率、传符号率（符号又称单位码元），指单位时间内载波参数变化的次数，可以以波形每秒的振荡数来衡量，是信号传输速率的度量。单位为“波特每秒（Bps）”， 不同的调制方法可以在一个码元上负载多个比特信息，所以它与比特率是不同的概念。

**码元速率和信息速率的关系**：
        
$$
S=B log2N (bps) 或 B=S/log2N (Baud)
$$
其中，N为进制数。对于二进制的信号，码元速率和信息速率在数值上是相等的。

## 信道容量与带宽🍎

### 两个重要公式🍎

尼奎斯特公式，无噪声信道的最大容量
$$
𝐶=2𝐵 log_2⁡𝑀
$$
香农公式，信噪比一定情况下，信道最大容量
$$
𝐶=𝐵 log_2⁡( 1+𝑆/𝑁)
$$
C为信道容量，单位为bit/s；B为信道频带宽度，单位为Hz；S/N是信道中的信号功率（S）与噪声功率（N）之比，称为信噪比。

M是信号的状态值。

信道容量是指信道传输信息的最大极限速率。在有干扰的信道中，由于信道的带宽限制和噪声的存在，信道传输信息的最大能力是有限的。

问题：所谓的用带宽换功率的措施是指？

## 天线

能够有效地向空间某特定方向辐射电磁波或能够有效地接收空间某特定方向来的电磁波的装置。

### 天线的作用

- 无线电设备中用来发射和接收电磁波的部件。
- 能量转换：导行波和自由空间波的转换，高频电流与电磁波的转换；
- 定向辐射和接收：具有一定方向性。

天线有五个基本参数：方向性系数、天线效率、增益系数、辐射电阻和天线有效高度。这些参数是衡量天线质量好坏的重要指标。🍎

### 天线增益🍎

是天线定向性的度量。与由理论的全向天线(各向同性天线)在各个方向所产生的输出相比，天线增益定义为在一特定方向上的功率输出🍎

天线增益主要与天线**有效面积**有关🍎


$$
G = \frac { 4 \pi A _ { a } } { λ ^ { 2 } } = \frac { 4 \pi f ^ { 2 } A _ { e } } { c ^ { 2 } }
$$
G：增益
Ae：有效面积
F：载波频率
λ：载波波长
C：光速

### 天线高度🍎

在没有任何障碍物情况下，直线的光波可表达为：
$$
d = 3.57 \sqrt { h }
$$
 其中：d 是天线到地平线的距离，单位是km，h是天线的高度，单位是m

实际上考虑折射因素K,K一般去`4/3`
$$
d = 3.57 \sqrt { Kh }
$$
两个天线（两个天线的高度分别为*h*1和*h*2）之间直线传播的最大距离是
$$
d = 3.57 ( \sqrt { K h _ { 1 } } + \sqrt { K h _ { 2 } } )
$$

### 天线的分类

- 按用途可分为通信天线、广播天线、电视天线、雷达天线等。
- 按工作波长可分为超长波天线、长波天线、中波天线、短波天线、超短波天线、微波天线等。
- 按方向性可分为全向天线和定向天线等。
- 按外形的不同可以分为线状天线、面状天线等。
- 室内天线：室内吸顶、壁挂天线必须具有结构轻巧、外型美观、安装方便等优点。
- 室外天线：是整个WLAN室外覆盖方案最重要的部分。能否实现更远距离的信号稳定传送，依赖于天线的选型。天线选型主要考虑天线覆盖距离和角度。

### 半波偶极天线🍎

长度L=λ/2，        c=λf

## 传播方式

由天线辐射出去的信号以三种方式传播：

地波(ground wave)：地波传播或多或少要沿着地球的轮廓前行，且可传播相当远的距离，较好地跨越可视的地平线。

天波(sky wave)：天波信号可以通过多个跳跃，在电离层和地球表面之间前后反弹地穿行。

直线LOS(line of sight) ：当要传播的信号频率在30MHz以上时，天波与地波的传播方式均无法工作，通信必须用直线方式。 

## 多普勒效应

多普勒效应指出，波在波源移向观察者时频率变高，而在波源远离观察者时频率变低。当观察者移动时也能得到同样的结论。
假设原有波源的波长为λ，波速为c，观察者移动速度为v，当观察者走近波源时观察到的波源频率为`(v+c)/λ`，如果观察者远离波源，则观察到的波源频率为`(v-c)/λ`。

## 信号处理🍎

### 模拟信号和数字信号

模拟信号是指用连续变化的物理量表示的信号，其信号的幅度（或频率、相位）随时间连续变化，或在一段连续的时间间隔内，其代表信息的特征量可以在任意瞬间呈现为任意数值的信号。

数字信号是指用一组特定的、有限个数的量来描述的信号，典型的就是用最为常见的二进制数字来表示的信号。

### 概念

#### 调制

通常，人们把由原始消息转换来的电信号称为基带信号。基带信号不易在信道中直接传输。因此，在发送端需将基带信号“附加”在高频振荡波上进行传输，即将信号频谱进行搬移，此过程就是调制。

原基带信号称为调制信号，而高频振荡波为运载基带信号的工具，称为载波。
经过调制的高频振荡波称为已调信号。
在接收端，则需要将载波上所携带的信号取下来，恢复原基带信号，是调制的逆过程，此过程称为解调。

#### 信源编码与信道编码

信源编码的主要作用是：在保证通信质量的前提下，尽可能的通过对信源的压缩，提高通信时的有效性。就是让通信变得更加的有效率。以更少的符号来表示原始信息，所以减少了信源的剩余度。（尽量利用信道，达到信道容量）
信道编码的主要作用是：通过对做完信源编码后的信息加入冗余信息，使得接收方在收到信号后，可通过信道编码中的冗余信息，做前向纠错。保证通信的可靠性。（检错纠错）

### 转换

#### 模拟数据与模拟信号

当数据已是模拟形式时，调制的主要原因有两个：

(1) 为了实现有效的传输，可能需要较高的频率。

(2) 调制允许使用频分复用技术，可以提高信道的利用率。

模拟数据的调制技术：调幅(AM)、调频(FM)和调相(PM)。 

#### 模拟数据转换为数字信号(数字化)

模拟信号数字化过程主要包括三个步骤：抽样、量化、编码

对模拟数据进行采样，用位流近似模拟信号，产生二进制电压脉冲序列

#### 数字数据转换为模拟信号

数字设备通过调制解调器与网络相连，调制解调器将数字数据转换成模拟信号，或将模拟信号转换成数字数据。

调制技术涉及对载波信号的3个特性(振幅、频率和相位)中的一个或多个特性的操作：幅移键控(ASK)、频移键控(FSK)和相移键控(PSK) 

ASK：利用不同的载波幅度表示二进制信号“0”和“1”。

FSK：利用不同的载波频率表示二进制信号“0”和“1”。

PSK：利用不同的载波初始相位表示二进制信号“0”和“1”

#### 信号编码准则

无线传输系统主要是采用模拟载波信号进行传输。

数字到模拟：数字数据和数字信号必须转换成模拟信号进行无线传输。

模拟到模拟：基带模拟信号，诸如话音或视频，通常都必须调制到高频的载波上进行传输。 

模拟到数字：先于传输之前，通常将模拟信号数字化后再在导向的或非导向的媒体上传输，这样可以改进传输质量并可利用TDM方式。对于无线传输来说，结果得到的数字信号必须调制到一个模拟载波上。

|          | **数据** | **信号** | **处理方法**                   |
| -------- | -------- | -------- | ------------------------------ |
| 编码解码 | 数字     | 数字     | 高低电平、电平跳变分别表示0和1 |
|          | 模拟     | 数字     | 先采样，再编码                 |
| 调制解调 | 数字     | 模拟     | ASK、PSK、FSK                  |
|          | 模拟     | 模拟     | AM、PM、FM                     |

### 扩频技术

扩频技术最初是针对军事和情报部门的需求而开发的。（防止窃听或信号干扰）

扩频通信技术是在1941年由好莱坞女演员Hedy Lamarr和钢琴家George Antheil提出的。基于对鱼雷控制的安全无线通信的思路他们申请了美国专利#2.292.387。不幸的是当时该技术并没有引起美国军方的重视，直到十九世纪八十年代才引起关注将它用于敌对环境中的无线通信系统。

基本思想是将携带信息的信号扩展到较宽的带宽中，以加大干扰和窃听的难度

$$
C=B \log _{2}(1+ \frac{S}{N})
$$

### 复用多址

复用：多个信号使用同一信道互不干扰的同时传输

- 频分复用（Frequency Division Multiplexing）
- 时分复用（Time Division Multiplexing）
- 码分复用（Code Division Multiplexing）
- 空分复用（Space Division Multiplexing）

多址：多点间进行多边通信

- 频分多址（Frequency Division Multiple Access）
- 时分多址（Time Division Multiple Access）
- 码分多址（Code Division Multiple Access）
- 空分多址（Space Division Multiple Access）

## 差错

### 差错补偿机制

补偿衰退所导致的差错和失真的三种手段：

1．前向纠错（forward error correction）:是指接收器使用接收到的数字数据中的信息来纠正位差错的处理过程。

2．自适应均衡（adaptive equalization）:是指自动将将分散的信号能量聚集回其原来的时隙中的一些方法。

3．分集技术（diversity technology）:是指通过查找和利用自然界无线传播环境中独立的（至少是高度不相关的）多径信号来实现对传输中衰退的补偿。即如果一条无线传播路径中经历了深度衰退，而另一条相对独立的路径中可能仍包含着较强的信号，因此可以在多个信号中选择两个或更多的信号进行合并，这样可以同时提高接收端的瞬时信噪比和平均信噪比。

### 差错控制技术

信号在无线信道中传输时会受到信道噪声、信道畸变及干扰信号的影响，可能导致接收端判决出错。

 信道编码：数字通信系统中的重要组成部分，它可以提高信道传输的可靠性，降低系统的错误率。

**前向纠错与后向纠错**

差错检测码（Error Detection Code）(奇偶校验,循环冗余校验（CRC）)

自动重发请求协议ARQ（Automatic Repeat Request）

差错纠错码（Error Correction Code），也称为前向纠错码FEC（Forward Error Correction）(海明码、汉明码) 

### 海明码🍎🍎

计算纠错码个数
$$
2 ^ { P } \geq P + D + 1
$$
P为纠错码个数，D为数据位个数

如：1010
$$
2 ^ { 3 } \geq 3 + 3 + 1
$$
P为3

按照位数列表格得到：

| 1    | 2    | 3(1+2) | 4    | 5(4+1) | 6(4+2) | 7(4+2+1) |
| ---- | ---- | ------ | ---- | ------ | ------ | -------- |
| P1   | P2   | 1      | P3   | 0      | 1      | 0        |

偶校验结果：P1 = 1，P2 = 0，P3 = 1

奇校验结果：P1 = 0，P2 = 1，P3 = 0

# 第三章 无线局域网

**WLAN: Wireless Local Area Network**

- 作为LAN的替代
- 作为LAN的扩展

无线局域网(WLAN)是利用无线通信技术在一定的局部范围内建立的网络，是计算机网络与无线通信技术相结合的产物，它以无线多址信道作为传输媒介，提供传统有线局域网的功能，能够使用户真正实现随时、随地、随意的宽带网络接入。

之所以还称其是局域网，是因为会受到无线连接设备与计算机之间距离的远近限制而影响传输范围，所以必须要在区域范围之内才可以连网。

## 特点与局限

### 特点

- 移动性（Mobility）
  - 半移动
- 灵活性（Flexibility）
  - 比有线网络高太多
- 可伸缩性（Scalability）
  - 扩展容易
- 经济性（Saving）
  - 相比有线网络更加便宜

### 局限性

- 干扰
  - 不同的无线局域网间、其它同频无线通信
- 可靠性（Reliability）
- 带宽与系统容量
  - 共享带宽
- 安全性（Security and Safety）
  - 无线传输带来的安全挑战，以及电磁波安全
- 节能管理
- 多业务与多媒体
  - QoS

### 隐蔽终端和暴露终端

#### 隐蔽终端

💻➡︎💻⬅💻

A --> B <-- C

A不知道C存在，向B发送信息，C不知道A存在，向B发送信息，发生碰撞。

**解决方案**

IEEE802.11 媒体访问控制层-**RTS/CTS** 对信道进行预约

**一**：源站 A 在发送数据帧之前先发送一个短的控制帧，叫做请求发送 RTS (Request To Send)，它包括源地址、目的地址和这次通信（包括相应的确认帧）所需的持续时间。 

当某个客户(A)向目的客户端(B)发送数据的时候，该客户会向客户端发送一个RTS报文，这样在该客户覆盖范围内的所有设备在收到RTS后都会在指定的时间内不发送数据

**二**：B 若媒体空闲，则目的站 B 就发送一个响应控制帧，叫做允许发送 CTS (Clear To Send)，它包括这次通信所需的持续时间（从 RTS 帧中将此持续时间复制到 CTS 帧中）。 和RTS 帧一样，CTS 帧也会令附近的工作站保持沉默，从而取得介质的控制权。A 收到 CTS 帧后就可发送其数据帧。 

目的客户(B)端收到RTS后，发送一个CTS报文，这样在该客户端覆盖范围内所有的设备都会在指定的时间内不发送数据。

#### 暴露终端

💻⬅💻⬅💻➡︎💻

A <-- B <-- C --> D

C向D发送消息，但是B知道C的存在，原本向A发送消息就停止了，导致带宽浪费

## 发展历史

1. 第一代无线局域网
   1. 1985年，FCC颁布的电波法规为无线局域网的发展扫清了道路
2. 第二代无线局域网
   1. 基于IEEE 802.11标准的无线局域网
3. 第三、四代无线局域网
   1. 符合IEEE 802.11b标准的产品已经较为普及，归为第三代无线局域网产品；而将符合IEEE 802.11a、HiperLAN2（欧洲电信标准化协会）和IEEE 802.11g标准的产品称为第四代无线局域网产品
4. 第五代无线局域网
   1. IEEE802.11ac
5. 第六代无线局域网
   1. 2018年802.11ax，其理论传输速率可达5Gbps

FCC: Federal Communication Commission

802.11 传统/a/b/g/n：频率、传输速率、编码和调制方式等方面有区别

802.11b — Wifi 1 (1999)

802.11a — Wifi 2 (1999)

802.11g — Wifi 3 (2003)

802.11n — Wifi 4 (2009)

802.11ac — Wifi 5(2014)

802.11ax — Wifi 6(2019)

## 分类与组成

- 按拓扑结构
  - Peer to Peer/Infrastructure等
- 支持移动性角度
  - 固定（Fixed）/半移动（Nomadic）或便携式（Portable）/全移动（Mobile）
  - 移动速度/协议层次
- 应用
  - 场景：室内应用/室外应用或永久/临时组网
  - 应用内容：接入/网络无线互联/定位

#### 有固定基础设施的无线局域网🍎

- 站（Station, STA）
  - 主机（Host）或终端（Terminal）：泛指所有通过无线网卡连接到无线网络的计算机或智能终端。
  - 无线工作站接入无线网络离不开网卡的支持，又称为网络适配器。
- 无线介质（Wireless Medium, WM）
- 基站（Base Station, BS）或接入点（Access Point, AP）:俗称“热点”,是WLAN的重要组网设备
- 分布式系统DS(Distribution System):为了实现远距离通信，需要把AP连接到一个更大的网络，即把不同区域的BSS连接起来，使不同BSS中的站点可以相互通信。

#### 无固定基础设施的无线局域网🍎

即自组网络(Ad hoc Network)。自组网络没有上述基本服务集中的接入点AP，而是由一些移动站组成的临时网络。
其中，各移动站的地位平等，并兼有路由和数据转发等网站制作功能。

移动自组网的形成：在一定范围内，若干可移动设备通过自组网路由协议连接并相互通信，

## 逻辑结构

### 服务集

- 通常使用服务集（Service Set，SS）描述WLAN的逻辑组成
- 服务集表示一组互相有联系的无线设备的集合
- 每个服务集在WLAN中都有一个身份标识，称为服务集标识符（Service Set Identifier，SSID）

**基本服务集(Basic Service Set, BBS)**

- 是802.11标准规定无线局域网的最小构件。
- 一个基本服务集包含一个AP和多个站点。AP是BSS的中心节点，BSS中的所有站点通过AP进行通信。
- AP的覆盖范围称为基本服务区（Basic Service Area，BSA）
- 基本服务集标识符（Basic Service Set Identifier，BSSID）用AP的MAC地址表示。MAC地址的唯一性保证了BSSID各不相同。
- 通常的做法是为AP或BSS起一个更容易辨识和记忆的字符串名称，即SSID

**独立基本服务集（Independent BSS，IBSS）**

- 没有无线接入点，仅由无线站点组成。
- 独立基本服务集是一种自组织、无中心节点的无线网络组网模式。
- 各站点只要在彼此的信号覆盖范围内就可以直接通信，也被称为Ad-hoc网络，简称为点对点网络。

**扩展服务集（Extended Service Set，ESS）**

- 由多个BSS构成。
- 从物理构成上看，ESS是多个AP及与之建立关联的站点的集合，各AP之间通过分布式系统相连。
- ESS的身份标识称为扩展服务集标识符（Extended SSID，ESSID），所有AP必须共享同一个扩展服务区标识符(ESSID)
- ESA: Extended Service Area

## 拓扑结构

**基础设施集中式拓扑**

  一个BSS至少包含一个AP，AP作为中心站，控制所有站对网络的访问，AP接入到局域网中。

**分布对等式拓扑**

无固定基础设施的无线局域网，即自组网络(Ad hoc Network)。自组网络没有上述基本服务集中的接入点AP，而是由一些移动站组成的临时网络。
其中，各移动站的地位平等，并兼有路由和数据转发等网站制作功能。

**WDS组网拓扑**

WDS（Wireless Distribution System无线分布式系统）：通过无线链路连接两个或者多个独立的有线局域网或者无线局域网，组建一个互通的网络，从而实现数据访问。

- 中继型网络拓扑
- 桥接型网络拓扑

**WMN组网拓扑**

无线Mesh网络（Wireless Mesh Network）是指利用无线链路将多个AP连接起来，并最终通过一个或两个Portal节点接入有线网络的一种网状动态自组织自配置的无线网络。

# 第四章 无线网络安全

## WLAN安全需求

### 保护WLAN网络

- 防止信息被窃取
  - 通过软件侦听无线信息
  - 通信内容反向解密
- 防止未经授权的访问
  - 非法用户接入
  - 越权访问资源
- 提供稳定高效的无线接入
  - 非法AP等信息干扰导致信号不稳定
  - 拒绝服务攻击导致WLAN不可用

非密码技术的访问控制机制

- 服务集识别码SSID（Service Set Identifier）认证。每个AP设有一SSID，可以把SSID作为一群WLAN子系统设备所共享的网域识别码。（隐藏）
- 地址过滤机制。如采用MAC地址过滤机制，配置MAC地址访问列表ACL（Access Control List）。
- 定向天线或控制传输功率。

## 安全标准发展

### 认证方式

- 无加密认证 （SSID，Mac）
- WEP （Wired Equivalent Privacy）有线等效加密技术（Wireless Encryption Protocol）
  - 支持开放认证、share key认证；WEP加密
  - IEEE 802.11b标准中定义的最基本的加密技术,多用于小型的、对安全性要求不高的场合。
- WPA（Wi-Fi Protected Access）Wi-Fi 保护接入
  - 支持PSK认证、EAP认证；TKIP、CCMP，加密TKIP 临时密钥完整性协议
- WPA2
  - 支持PSK认证、EAP认证；TKIP、CCMP，加密AES高级加密标准
- IEEE 802.1x认证协议(基于端口的访问控制协议）
- WAPI  (中国的加密标准)
  - 支持PSK认证、基于证书的认证、椭圆曲线密码加密

#### 链路认证

AP对STA的身份验证属于链路认证。链路认证没有传递或验证任何加密密钥，也没有进行双向认证。

早期的IEEE 802.11标准定义了开放系统认证和共享密钥认证两种链路认证方式。
开放系统认证更像是对STA通信能力的认证，AP允许任何符合802.11标准的STA接入WLAN。

共享密钥认证要求STA和AP配置相同的共享密钥，双方通过交换几个报文验证STA的身份。

#### 用户接入认证

用户接入认证是对用户的身份进行区分，并根据用户的身份授予用户不同的网络访问权限，授权用户访问不同的网络资源。

用户接入认证涉及密钥协商和数据加密，比链路认证的安全性要高。

用户接入认证的方式有MAC认证、PSK认证、Portal认证和802.1X认证等。

##### Mac认证

- 使用终端的MAC地址进行认证。
- 客户端无需安装任何软件。
- 支持Guest VLAN和用户组授权功能。
- 支持和其它认证方式（如WPA-PSK等）配合使用。

##### PSK和PPSK认证

在无线客户端和服务端配置相同的预共享密钥。

PSK认证的部署比较简单，安全性较差，容易受到暴力字典攻击。

使用PPSK认证时，连接到同一无线网络的用户拥有不同的密钥。

##### Portal认证

- 又称为Web认证，只要在浏览器中输入账号信息提交认证即可。
- 在主动Portal认证方式下，用户主动访问位于Portal服务器上的认证页面并提交账号信息。在被动Portal认证方式下，用户通过HTTP协议访问公司外网时被强制重定向到Portal认证页面。

##### 802.1X认证

- 802.1X是关于用户接入网络的认证标准，主要解决网络接入认证和安全方面的问题。
- 802.1X认证既能用于有线网络，也可以用于无线网络。
- 802.1X认证体系具有典型的客户端/服务器架构，由请求方、认证方和认证服务器组成。

## WEP

**有线等同保密协议**WEP（Wired Equivalent Privacy），即试图提供与有线网等同的数据保密性。该机制采用流密码算法RC4，基于共享密钥实现实体认证（拥有合法共享密钥的实体被视为合法实体）和数据保密通信。
WEP定义两种认证机制：

- 一是开放系统认证（Open System Authentication），实际上为空认证；
- 二是共享密钥认证（Shared Key Authentication），实现基于共享密钥的质询—响应握手协议。

WEP使用一种对称加密RC4（加密和解密的密钥及算法相同）加密。

WEP只对数据帧的实体加密，而不对数据帧控制域以及其他类型帧加密。

使用了该技术的无线局域网，所有客户端(STA)与无线接入点(AP)的数据都会以一个共享的密钥进行加密，密钥的长度有64/128/256bits几种方式(对应的key value分别是40/104/232bits)。其中包括24位是初始向量IV。

经过WEP加密的封包中,只有MAC地址和IV是明码，其余部分都是经过RC4加密后来传送的。

## WPA/WPA2

WPA加密即Wi-Fi Protected Access

WPA 包括：
**WPA—PSK** （预共享密钥模式）：仅要求在每个WLAN节点(AP、无线路由器、网卡等)预先输入一个密钥即可实现。只要密钥吻合，客户就可以获得WLAN的访问权。适用于家庭网络。

**WPA—RADIUS**  （证书模式）：用户提供认证所需的凭证，如用户名密码，通过特定的用户认证服务器（一般是RADIUS服务器）来实现。适用于大型企业网络。
WPA包含了认证、加密和数据完整性校验三个组成部分，是一个完整的安全性方案
WPA2在加密方面支持两种加密方式：AES    TKIP

对于PSK模式，不同用户，每次连接使用的密钥是相同的。

对于AS模式，同一用户，每次连接使用相同的账号和密码。

对于PSK模式，不同用户，每次连接生成PTK的PSK是相同的。

对于AS模式，不同用户，每次连接生成PTK的PSK(PMK)是不同的。

# ......

内容太多，不在更新
